function timeline(a,b){function c(z,A){return'number'!=typeof z&&0!=z%1?(console.warn(`${u} The value "${z}" entered for the setting "${A}" is not an integer.`),!1):!0}function d(z,A,B){A.classList.add(B),z.parentNode.insertBefore(A,z),A.appendChild(z)}function f(z){z.forEach(A=>{d(A.querySelector('.bdt-timeline-content'),document.createElement('div'),'bdt-timeline-content-wrapper'),d(A.querySelector('.bdt-timeline-content-wrapper'),document.createElement('div'),'bdt-timeline-item-inner')})}function g(z,A){const B=z.getBoundingClientRect(),C=window.innerHeight||document.documentElement.clientHeight,D=y.verticalTrigger.defaultValue.match(/(\d*\.?\d*)(.*)/);let E=A.unit,F=A.value,G=C;return'px'===E&&F>=C&&(console.warn('The value entered for the setting "verticalTrigger" is larger than the window height. The default value will be used instead.'),[,E,F]=D),'px'===E?G=parseInt(G-F,10):'%'==E&&(G=parseInt(G*((100-F)/100),10)),B.top<=G&&B.left<=(window.innerWidth||document.documentElement.clientWidth)&&0<=B.top+B.height&&0<=B.left+B.width}function h(z,A){z.style.webkitTransform=A,z.style.msTransform=A,z.style.transform=A}function k(z){window.innerWidth>z.settings.forceVerticalMode&&(function(){z.itemWidth=z.wrap.offsetWidth/z.settings.visibleItems,z.items.forEach(C=>{C.style.width=`${z.itemWidth}px`}),z.scrollerWidth=z.itemWidth*z.items.length,z.scroller.style.width=`${z.scrollerWidth}px`}(),function(){let C=0,D=0;z.items.forEach((F,G)=>{F.style.height='auto';const H=F.offsetHeight;0==G%2?D=H>D?H:D:C=H>C?H:C});const E=`translateY(${D}px)`;z.items.forEach((F,G)=>{0==G%2?(F.style.height=`${D}px`,'bottom'===z.settings.horizontalStartPosition?(F.classList.add('bdt-timeline-item--bottom'),h(F,E)):F.classList.add('bdt-timeline-item--top')):(F.style.height=`${C}px`,'bottom'===z.settings.horizontalStartPosition?F.classList.add('bdt-timeline-item--top'):(F.classList.add('bdt-timeline-item--bottom'),h(F,E)))}),z.scroller.style.height=`${D+C}px`}())}function l(z){if(z.items.length>z.settings.visibleItems){const A=document.createElement('button'),B=document.createElement('button'),C=z.items[0].offsetHeight;A.className='bdt-timeline-nav-button bdt-timeline-nav-button--prev',B.className='bdt-timeline-nav-button bdt-timeline-nav-button--next',A.textContent='Previous',B.textContent='Next',A.style.top=`${C}px`,B.style.top=`${C}px`,0===x?A.disabled=!0:x==z.items.length-z.settings.visibleItems&&(B.disabled=!0),z.timelineEl.appendChild(A),z.timelineEl.appendChild(B)}}function m(z){const A=z.timelineEl.querySelector('.bdt-timeline-divider');A&&z.timelineEl.removeChild(A);const B=z.items[0].offsetHeight,C=document.createElement('span');C.className='bdt-timeline-divider',C.style.top=`${B}px`,z.timelineEl.appendChild(C)}function n(z){const A=z.items[x].offsetLeft,B=`translate3d(-${A}px, 0, 0)`;h(z.scroller,B)}function o(z){const A=z.timelineEl.querySelectorAll('.bdt-timeline-nav-button'),B=z.timelineEl.querySelector('.bdt-timeline-nav-button--prev'),C=z.timelineEl.querySelector('.bdt-timeline-nav-button--next'),D=z.items.length-z.settings.visibleItems,E=parseInt(z.settings.moveItems,10);[].forEach.call(A,F=>{F.addEventListener('click',function(G){G.preventDefault(),x=this.classList.contains('bdt-timeline-nav-button--next')?x+=E:x-=E,0===x||0>x?(x=0,B.disabled=!0,C.disabled=!1):x===D||x>D?(x=D,B.disabled=!1,C.disabled=!0):(B.disabled=!1,C.disabled=!1),n(z)})})}function p(z){x=z.settings.startIndex,z.timelineEl.classList.add('bdt-timeline--horizontal'),k(z),n(z),l(z),m(z),o(z)}function q(z){let A=0;z.items.forEach((B,C)=>{B.classList.remove('animated','fadeIn'),!g(B,z.settings.verticalTrigger)&&0<C?B.classList.add('animated'):A=C;const D='left'===z.settings.verticalStartPosition?1:0;C%2==D&&window.innerWidth>z.settings.forceVerticalMode?B.classList.add('bdt-timeline-item--right'):B.classList.add('bdt-timeline-item--left')});for(let B=0;B<A;B+=1)z.items[B].classList.remove('animated','fadeIn');window.addEventListener('scroll',()=>{z.items.forEach(B=>{g(B,z.settings.verticalTrigger)&&B.classList.add('fadeIn')})})}function r(z){z.timelineEl.classList.remove('bdt-timeline--horizontal','bdt-timeline--mobile'),z.scroller.removeAttribute('style'),z.items.forEach(B=>{B.removeAttribute('style'),B.classList.remove('animated','fadeIn','bdt-timeline-item--left','bdt-timeline-item--right')});const A=z.timelineEl.querySelectorAll('.bdt-timeline-nav-button');[].forEach.call(A,B=>{B.parentNode.removeChild(B)})}function s(){t.forEach(z=>{z.timelineEl.style.opacity=0,z.timelineEl.classList.contains('bdt-timeline--loaded')||f(z.items),r(z),window.innerWidth<=z.settings.forceVerticalMode&&z.timelineEl.classList.add('bdt-timeline--mobile'),'horizontal'===z.settings.mode&&window.innerWidth>z.settings.forceVerticalMode?p(z):q(z),z.timelineEl.classList.add('bdt-timeline--loaded'),setTimeout(()=>{z.timelineEl.style.opacity=1},500)})}const t=[],u='Timeline:';let v=window.innerWidth,w,x=0;const y={forceVerticalMode:{type:'integer',defaultValue:700},horizontalStartPosition:{type:'string',acceptedValues:['bottom','top'],defaultValue:'top'},mode:{type:'string',acceptedValues:['horizontal','vertical'],defaultValue:'horizontal'},moveItems:{type:'integer',defaultValue:1},startIndex:{type:'integer',defaultValue:0},verticalStartPosition:{type:'string',acceptedValues:['left','right'],defaultValue:'left'},verticalTrigger:{type:'string',defaultValue:'15%'},visibleItems:{type:'integer',defaultValue:3}};a.length&&[].forEach.call(a,function(z){const A=z.id?`#${z.id}`:`.${z.className}`,B='could not be found as a direct descendant of',C=z.dataset;let D,E,F;const G={};try{if(D=z.querySelector('.bdt-timeline-wrapper'),!D)throw new Error(`${u} .bdt-timeline-wrapper ${B} ${A}`);else if(E=D.querySelector('.bdt-timeline-items'),!E)throw new Error(`${u} .bdt-timeline-items ${B} .bdt-timeline-wrapper`);else F=[].slice.call(E.children,0)}catch(M){return console.warn(M.message),!1}Object.keys(y).forEach(M=>{G[M]=y[M].defaultValue,C[M]?G[M]=C[M]:b&&b[M]&&(G[M]=b[M]),'integer'===y[M].type?(!G[M]||!c(G[M],M))&&(G[M]=y[M].defaultValue):'string'===y[M].type&&y[M].acceptedValues&&-1===y[M].acceptedValues.indexOf(G[M])&&(console.warn(`${u} The value "${G[M]}" entered for the setting "${M}" was not recognised.`),G[M]=y[M].defaultValue)});const H=y.verticalTrigger.defaultValue.match(/(\d*\.?\d*)(.*)/),I=G.verticalTrigger.match(/(\d*\.?\d*)(.*)/);let[,J,K]=I,L=!0;J||(console.warn(`${u} No numercial value entered for the 'verticalTrigger' setting.`),L=!1),'px'!==K&&'%'!==K&&(console.warn(`${u} The setting 'verticalTrigger' must be a percentage or pixel value.`),L=!1),'%'===K&&(100<J||0>J)?(console.warn(`${u} The 'verticalTrigger' setting value must be between 0 and 100 if using a percentage value.`),L=!1):'px'==K&&0>J&&(console.warn(`${u} The 'verticalTrigger' setting value must be above 0 if using a pixel value.`),L=!1),!1==L&&([,J,K]=H),G.verticalTrigger={unit:K,value:J},G.moveItems>G.visibleItems&&(console.warn(`${u} The value of "moveItems" (${G.moveItems}) is larger than the number of "visibleItems" (${G.visibleItems}). The value of "visibleItems" has been used instead.`),G.moveItems=G.visibleItems),G.startIndex>F.length-G.visibleItems&&F.length>G.visibleItems?(console.warn(`${u} The 'startIndex' setting must be between 0 and ${F.length-G.visibleItems} for this timeline. The value of ${F.length-G.visibleItems} has been used instead.`),G.startIndex=F.length-G.visibleItems):F.length<=G.visibleItems?(console.warn(`${u} The number of items in the timeline must exceed the number of visible items to use the 'startIndex' option.`),G.startIndex=0):0>G.startIndex&&(console.warn(`${u} The 'startIndex' setting must be between 0 and ${F.length-G.visibleItems} for this timeline. The value of 0 has been used instead.`),G.startIndex=0),t.push({timelineEl:z,wrap:D,scroller:E,items:F,settings:G})}),s(),window.addEventListener('resize',()=>{clearTimeout(w),w=setTimeout(()=>{const z=window.innerWidth;z!==v&&(s(),v=z)},250)})}window.jQuery&&(a=>{a.fn.timeline=function(b){return timeline(this,b),this}})(window.jQuery);